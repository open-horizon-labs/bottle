{"id":"kk-0mmo","title":"Rename all Homebrew taps from cloud-atlas-ai to oh-labs","description":"The tap names in tools/*.json need to be updated when we migrate to open-horizon-labs org. Currently bottles assume taps like cloud-atlas-ai/ba but these will become oh-labs/ba (or similar). Update tool definitions and document the correct tap names.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-12T18:46:12.266908Z","updated_at":"2026-01-13T14:46:58.759953Z","closed_at":"2026-01-13T14:46:58.759953Z","blocks":[],"blocked_by":[]}
{"id":"kk-1ynx","title":"Implement bottle create command (Rust)","description":"Add 'bottle create' command for bespoke bottles.\n\nUsage:\n  bottle create mybottle                 # Empty bottle\n  bottle create mybottle --from stable   # Copy from curated\n\nFlow:\n1. Create ~/.bottle/bottles/mybottle/\n2. If --from, fetch and copy manifest from source bottle\n3. Otherwise, create minimal manifest template\n4. Open manifest in editor (if EDITOR set)\n5. Show next steps\n\nOutput:\nCreated bespoke bottle: mybottle\nLocation: ~/.bottle/bottles/mybottle/manifest.json\nEdit the manifest to pin your desired versions, then:\n  bottle install mybottle\n\nImplementation:\n- Add create.rs to src/commands/\n- Handle --from flag to copy from curated or other bespoke\n- Generate template manifest.json\n- Respect EDITOR env var for opening file","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-12T19:51:43.559585Z","updated_at":"2026-01-12T20:23:08.823962039Z","closed_at":"2026-01-12T20:23:08.823962039Z","blocks":[],"blocked_by":[]}
{"id":"kk-299i","title":"Implement bottle update command (Rust)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.650470Z","updated_at":"2026-01-12T21:48:11.577460866Z","closed_at":"2026-01-12T21:48:11.577460866Z","blocks":[],"blocked_by":[]}
{"id":"kk-2wgz","title":"Implement bottle list command (Rust)","description":"Add 'bottle list' command that shows available bottles.\n\nShows:\n- Curated bottles (fetched from GitHub: stable, edge)\n- Bespoke bottles (local: ~/.bottle/bottles/*)\n\nOutput format:\nCurated bottles (from GitHub):\n  stable     Production-ready stack\n  edge       Latest features\n\nBespoke bottles (local):\n  mybottle        My custom tool versions\n\nImplementation:\n- Add list.rs to src/commands/\n- Fetch curated bottle list from GitHub\n- Scan ~/.bottle/bottles/ for local bespoke bottles\n- Display with descriptions from manifest.json","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-12T19:51:04.050062Z","updated_at":"2026-01-12T20:21:50.405633302Z","closed_at":"2026-01-12T20:21:50.405633302Z","blocks":[],"blocked_by":[]}
{"id":"kk-3aee","title":"Create bottle version manifest (versions.json mapping bottle release to tool versions)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:43:29.216450Z","updated_at":"2026-01-11T10:54:27.073457Z","closed_at":"2026-01-11T10:54:27.073457Z","blocks":[],"blocked_by":[]}
{"id":"kk-3ltz","title":"Fix bottle integrate claude_code to install all plugins","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-14T00:43:07.285517Z","updated_at":"2026-01-14T00:44:48.336941Z","closed_at":"2026-01-14T00:44:48.336941Z","blocks":[],"blocked_by":[]}
{"id":"kk-3ni3","title":"Create /bottle:validate to check tool compatibility in a bottle","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:41.249784Z","updated_at":"2026-01-11T11:12:23.457699Z","closed_at":"2026-01-11T11:12:23.457699Z","blocks":[],"blocked_by":[]}
{"id":"kk-3odl","title":"Fix Codex integration: fetch skills from GitHub at runtime instead of embedding","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[{"author":"anonymous","text":"## Problem\nPR #29 embedded Codex skills at compile time using `include_str!()`. This means skill updates require a new bottle binary release.\n\n## Fix\nChange `bottle integrate codex` to fetch skills from GitHub at runtime.\n\n### Current (wrong)\n```rust\nconst BOTTLE_SKILL: &str = include_str!(\"../../codex-skill/SKILL.md\");\nconst BA_SKILL: &str = include_str!(\"../../codex-skill/ba/SKILL.md\");\n// ...\n```\n\n### Target\n```rust\nfn fetch_skill(path: &str) -> Result<String> {\n    let url = format!(\n        \"https://raw.githubusercontent.com/open-horizon-labs/bottle/main/codex-skill/{}\",\n        path\n    );\n    // HTTP GET and return content\n}\n\npub fn install() -> Result<()> {\n    let bottle_skill = fetch_skill(\"SKILL.md\")?;\n    let ba_skill = fetch_skill(\"ba/SKILL.md\")?;\n    let wm_skill = fetch_skill(\"wm/SKILL.md\")?;\n    let sg_skill = fetch_skill(\"sg/SKILL.md\")?;\n    let agents_snippet = fetch_skill(\"AGENTS.md.snippet\")?;\n    // Write to ~/.codex/skills/\n}\n```\n\n### Changes\n1. Remove `include_str!()` constants from `src/integrate/codex.rs`\n2. Add HTTP fetch function (use reqwest or ureq)\n3. Fetch skills from GitHub raw URLs at runtime\n4. Write fetched content to `~/.codex/skills/`\n\n### Benefits\n- Skills update independently of binary\n- Users get latest skills without `cargo install`\n- Source of truth remains in bottle repo","created_at":"2026-01-13T20:50:33.851679Z"}],"created_at":"2026-01-13T20:50:21.215098Z","updated_at":"2026-01-13T20:57:24.797344664Z","closed_at":"2026-01-13T20:57:24.797344664Z","blocks":[],"blocked_by":[]}
{"id":"kk-42ji","title":"Implement bottle install command (Rust)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.645160Z","updated_at":"2026-01-12T20:30:15.954545Z","closed_at":"2026-01-12T20:30:15.954545Z","blocks":[],"blocked_by":[]}
{"id":"kk-5053","title":"Create /bottle:status showing installed bottle, versions, and available updates","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:34.890225Z","updated_at":"2026-01-11T11:12:23.429908Z","closed_at":"2026-01-11T11:12:23.429908Z","blocks":[],"blocked_by":[]}
{"id":"kk-5yjp","title":"Set up bottle CI to test tools together before release","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:43:29.228408Z","updated_at":"2026-01-11T10:54:27.083444Z","closed_at":"2026-01-11T10:54:27.083444Z","blocks":[],"blocked_by":[]}
{"id":"kk-6b7k","title":"Improve onboarding and workflow guidance for Claude Code","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-14T00:57:10.864925Z","updated_at":"2026-01-14T01:00:06.808416Z","closed_at":"2026-01-14T01:00:06.808416Z","blocks":[],"blocked_by":[]}
{"id":"kk-6t13","title":"Scaffold Rust crate: Cargo.toml, clap CLI structure, basic commands","description":"","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:15.927743Z","updated_at":"2026-01-11T19:30:42.545373Z","closed_at":"2026-01-11T19:30:42.545373Z","blocks":[],"blocked_by":[]}
{"id":"kk-6tvk","title":"Map dependencies and ordering","description":"","status":"closed","priority":0,"issue_type":"spike","labels":[],"comments":[{"author":"anonymous","text":"Adding miranda to the ecosystem:\n\n**miranda** (Node.js bot + Claude plugin):\n- Server: pnpm install + pnpm start\n- Bot: Telegram bot token + user IDs\n- Plugin: /plugin marketplace add + install miranda@miranda\n- Skills: /mouse (task worker) + /drummer (batch merger)\n- Dependencies: Requires ba + superego (on the server)\n- Hooks: PreToolUse for notifications\n\nThis is different from others - it's a server component + plugin, not a CLI tool for local use. It orchestrates remote Claude sessions via Telegram.","created_at":"2026-01-07T01:28:53.699298Z"}],"created_at":"2026-01-07T01:27:32.195364Z","updated_at":"2026-01-07T01:29:02.679454Z","closed_at":"2026-01-07T01:29:02.679454Z","blocks":[],"blocked_by":[]}
{"id":"kk-7h8a","title":"Move Claude Code plugins to bottle repo and add version reconciliation check","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[{"author":"anonymous","text":"## Overview\nConsolidate Claude Code plugins in bottle repo (like Codex) and add version drift detection.\n\n## Part 1: Move plugins to bottle\nCreate `.claude-plugin/plugins/` with thin wrapper plugins:\n- `ba/` - thin wrapper to `ba` CLI\n- `wm/` - thin wrapper to `wm` CLI  \n- `superego/` - thin wrapper to `sg` CLI\n- `oh-mcp/` - MCP server setup\n- `miranda/` - (if applicable)\n\nEach plugin follows the pattern established for bottle commands.\n\n## Part 2: Version reconciliation command\nAdd `bottle check-versions` that:\n1. Fetches latest versions from crates.io API for ba, wm, superego\n2. Reads plugin versions from bottle repo\n3. Compares and flags drift\n\n```bash\nbottle check-versions\n\nba: crates.io=0.5.2, plugin=0.5.1 ⚠️ DRIFT\nwm: crates.io=0.3.0, plugin=0.3.0 ✓\nsuperego: crates.io=0.2.0, plugin=0.2.0 ✓\n```\n\n## Part 3: CI integration\nAdd GitHub Action that runs `bottle check-versions` on:\n- Push to main\n- Weekly schedule\n\nFails CI if drift detected, prompting maintainer to update plugins.\n\n## Benefits\n- Single source for Claude Code plugins\n- Automated drift detection\n- Process for keeping plugins in sync with binaries","created_at":"2026-01-13T20:32:54.688240Z"},{"author":"anonymous","text":"## Updated Approach: GitHub Actions Sync\n\nInstead of moving plugins to bottle, use GitHub Actions to sync from source repos (like netresearch marketplace).\n\n### Architecture\n```\nba repo/.claude-plugin/        ─┐\nwm repo/.claude-plugin/         ├─ GitHub Action → bottle/.claude-plugin/plugins/\nsuperego repo/.claude-plugin/  ─┘\n```\n\nEach tool maintains its own Claude Code plugin in its home repo. Bottle marketplace assembles them via sync.\n\n### Implementation\n\n1. **Source repos** (ba, wm, superego, oh-mcp):\n   - Each has `.claude-plugin/` with plugin definition\n   - Existing release scripts already handle versioning\n\n2. **Bottle repo GitHub Action** (`.github/workflows/sync-plugins.yml`):\n   ```yaml\n   name: Sync Claude Plugins\n   on:\n     schedule:\n       - cron: '0 2 * * 1'  # Weekly Monday 2AM UTC\n     workflow_dispatch:      # Manual trigger\n   \n   jobs:\n     sync:\n       runs-on: ubuntu-latest\n       steps:\n         - uses: actions/checkout@v4\n         - name: Sync ba plugin\n           run: |\n             git clone --depth 1 https://github.com/cloud-atlas-ai/ba /tmp/ba\n             cp -r /tmp/ba/.claude-plugin .claude-plugin/plugins/ba\n         - name: Sync wm plugin\n           run: |\n             git clone --depth 1 https://github.com/cloud-atlas-ai/wm /tmp/wm\n             cp -r /tmp/wm/.claude-plugin .claude-plugin/plugins/wm\n         # ... repeat for superego, oh-mcp\n         - name: Update marketplace.json versions\n           run: ./scripts/update-marketplace-versions.sh\n         - name: Commit and push\n           run: |\n             git add .\n             git commit -m 'chore: sync Claude plugins from source repos' || exit 0\n             git push\n   ```\n\n3. **Version reconciliation** (optional enhancement):\n   - Script compares crates.io versions vs synced plugin versions\n   - Warns if drift detected (plugin older than binary)\n\n### Benefits\n- Plugins live with source (atomic updates)\n- Bottle is assembly point, not source of truth\n- Existing release workflows unchanged\n- Weekly sync catches updates automatically\n- Manual trigger for immediate sync when needed\n\n### Replaces previous approach\n~~Move plugins to bottle and add version check~~ → Sync plugins via GitHub Action","created_at":"2026-01-13T20:41:39.070288Z"},{"author":"anonymous","text":"## Simplified: Manual Sync Only\n\nFor curated stable releases, sync is manual trigger only (no schedule).\n\n```yaml\nname: Sync Claude Plugins\non:\n  workflow_dispatch:  # Manual trigger only\n\njobs:\n  sync:\n    # ... sync from source repos\n```\n\nCurator decides when to sync. Automatic edge channel can come later if needed.","created_at":"2026-01-13T20:43:44.398384Z"},{"author":"anonymous","text":"## Cleaned Up Spec\n\n### Title Update\nShould be: \"Add GitHub Action to sync Claude Code plugins from source repos\"\n\n### Prerequisites (separate tasks or verify exist)\n- ba repo needs `.claude-plugin/` with thin wrapper commands\n- wm repo needs `.claude-plugin/` with thin wrapper commands  \n- superego repo needs `.claude-plugin/` with thin wrapper commands\n- oh-mcp - check if applicable\n\n### This Task Delivers\n1. `.github/workflows/sync-plugins.yml` - manual trigger workflow\n2. Update `.claude-plugin/marketplace.json` to reference `./plugins/{name}`\n3. `.gitignore` entry for `.claude-plugin/plugins/` (synced, not committed)\n   OR commit the synced plugins (simpler)\n\n### Out of Scope (dropped)\n- Version reconciliation command (sync handles freshness)\n- CI drift detection (manual curation is enough)\n\n### Open Question\nCommit synced plugins or gitignore them? \n- Commit: Users can clone bottle and have working marketplace immediately\n- Gitignore: Cleaner repo, but requires running sync after clone","created_at":"2026-01-13T20:45:01.905704Z"},{"author":"anonymous","text":"## Confirmed\n- Source repos (ba, wm, superego) already have `.claude-plugin/`\n- Commit synced plugins to bottle repo\n\n### Final Deliverables\n1. `.github/workflows/sync-plugins.yml` - workflow_dispatch only\n2. Update `.claude-plugin/marketplace.json` to reference `./plugins/{name}`\n3. Run sync to populate `.claude-plugin/plugins/` with ba, wm, superego\n4. Commit the synced plugins\n\nReady to work.","created_at":"2026-01-13T20:47:07.329172Z"}],"created_at":"2026-01-13T20:32:41.803753Z","updated_at":"2026-01-13T20:59:59.907765Z","closed_at":"2026-01-13T20:59:59.907765Z","blocks":[],"blocked_by":[]}
{"id":"kk-8f4f","title":"Add datasphere binary install to bottle:init","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:26:32.932819Z","updated_at":"2026-01-11T11:07:25.266826Z","closed_at":"2026-01-11T11:07:25.266826Z","blocks":[],"blocked_by":[]}
{"id":"kk-8qk7","title":"Add prerequisite checks to bottle:init (Node.js, API keys, brew taps)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:26:32.952580Z","updated_at":"2026-01-11T11:07:25.276396Z","closed_at":"2026-01-11T11:07:25.276396Z","blocks":[],"blocked_by":[]}
{"id":"kk-a54b","title":"Implement bottle diff command (Rust, curator)","description":"","status":"open","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.669090Z","updated_at":"2026-01-11T11:12:29.669090Z","blocks":[],"blocked_by":[]}
{"id":"kk-b2nh","title":"Create /bottle:diff to compare bottles or bottle vs latest tools","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:41.239575Z","updated_at":"2026-01-11T11:12:23.448266Z","closed_at":"2026-01-11T11:12:23.448266Z","blocks":[],"blocked_by":[]}
{"id":"kk-c0jl","title":"Update Codex SKILL.md to invoke CLI for standard commands","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[{"author":"anonymous","text":"## Refactoring Spec\n\n### Current State\n- Heavy custom shell scripting embedded in SKILL.md\n- Wrong Homebrew tap (cloud-atlas-ai/tap → oh-labs/tap)\n- Duplicates logic that's now in bottle CLI\n\n### Target State\nStandard commands invoke bottle CLI, Codex-specific features stay custom.\n\n#### Standard Commands (use CLI)\n\n| Command | Current | Target |\n|---------|---------|--------|\n| `$bottle init` | Custom shell script | `bottle install <ecosystem>` + `bottle integrate codex` |\n| `$bottle status` | Custom shell script | `bottle status` |\n| `$bottle update` | Custom shell script | `bottle update` |\n| `$bottle remove` | Custom shell script | `bottle eject` |\n\nEach should:\n1. Check if bottle binary exists\n2. If not, show install instructions (Homebrew oh-labs/tap or Cargo)\n3. If exists, run the CLI command\n\n#### Codex-Specific Features (keep custom)\n\nThese use Codex capabilities not in bottle CLI:\n- `$bottle dive [intent]` - delegates to $wm dive (keep as-is)\n- `$bottle codex-sync` - parses Codex session files\n- `$bottle web-context` - uses Codex web search\n- `$bottle resume` - integrates with codex resume\n- `$bottle agents` - shows AGENTS.md snippet\n\n### Fixes Needed\n- Update Homebrew tap: `cloud-atlas-ai/tap` → `oh-labs/tap`\n- Simplify standard commands to CLI invocations\n- Remove duplicated shell logic","created_at":"2026-01-13T18:17:03.162882Z"},{"author":"anonymous","text":"## Scope Expansion: Thin Wrapper Skills\n\n### Additional Work\nSimplify ba, wm, superego skills to thin CLI wrappers (same pattern as bottle commands).\n\n#### Current ba/wm skills (in codex-skill/)\n- Heavy shell scripting embedded in SKILL.md\n- Duplicates CLI logic\n\n#### Current superego skill (separate repo)\n- Fetched via curl from superego repo\n- Should be bundled with bottle instead\n\n### Target: All Skills as Thin Wrappers\n\n**ba/SKILL.md:**\n```markdown\n## $ba status\nRun: `ba status`\n\n## $ba claim <id>\nRun: `ba claim <id>`\n\n## $ba finish <id>\nRun: `ba finish <id>`\n...\n```\n\n**wm/SKILL.md:**\n```markdown\n## $wm compile\nRun: `wm compile`\n\n## $wm dive [intent]\nRun: `wm dive [intent]`\n\n## $wm distill\nRun: `wm distill`\n...\n```\n\n**superego/SKILL.md:** (move to bottle repo)\n```markdown\n## $sg review\nRun: `sg review`\n\n## $sg init\nRun: `sg init`\n...\n```\n\n### Updated Deliverables\n1. Simplify bottle SKILL.md - standard commands invoke CLI\n2. Simplify ba/SKILL.md - thin CLI wrappers\n3. Simplify wm/SKILL.md - thin CLI wrappers\n4. Move superego skill to bottle repo as thin wrappers\n5. Update `bottle integrate codex` to install all skills from bundled files\n\n### Benefits\n- Single source of truth (CLIs)\n- No curl downloads from multiple repos\n- Skills are trivial to maintain\n- One command sets up everything: `bottle integrate codex`","created_at":"2026-01-13T18:20:47.452798Z"}],"created_at":"2026-01-13T14:46:18.502576Z","updated_at":"2026-01-13T18:35:01.310526433Z","closed_at":"2026-01-13T18:35:01.310526433Z","blocks":[],"blocked_by":[]}
{"id":"kk-esq1","title":"Add --dry-run flag to bottle integrate command","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-13T15:35:23.794332Z","updated_at":"2026-01-13T15:43:44.491021Z","closed_at":"2026-01-13T15:43:44.491021Z","blocks":[],"blocked_by":[]}
{"id":"kk-eyzz","title":"Update bottle install with --with flag for platform selection","description":"","status":"open","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-13T14:46:18.477394Z","updated_at":"2026-01-13T14:46:18.477394Z","blocks":[],"blocked_by":[]}
{"id":"kk-fbuz","title":"Add datasphere:init command (ds binary install + ds scan)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-08T12:18:03.607343Z","updated_at":"2026-01-08T14:12:42.878337598Z","closed_at":"2026-01-08T14:12:42.878337598Z","blocks":["kk-hpwy"],"blocked_by":["kk-soo5"]}
{"id":"kk-gnv1","title":"Create /bottle:eject for à la carte mode","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:34.904338Z","updated_at":"2026-01-11T11:12:23.444025Z","closed_at":"2026-01-11T11:12:23.444025Z","blocks":[],"blocked_by":[]}
{"id":"kk-hpwy","title":"Update bottle README to include datasphere","description":"","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-08T12:18:03.782958Z","updated_at":"2026-01-08T17:12:03.918936135Z","closed_at":"2026-01-08T17:12:03.918936135Z","blocks":[],"blocked_by":["kk-fbuz","kk-t63b"]}
{"id":"kk-iflm","title":"Build /bottle:update that installs specific bundled versions","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:43:29.221519Z","updated_at":"2026-01-11T10:54:27.078535Z","closed_at":"2026-01-11T10:54:27.078535Z","blocks":[],"blocked_by":[]}
{"id":"kk-ijhv","title":"Update homebrew-tap formula: change cloud-atlas-ai to open-horizon-labs URLs","description":"","status":"open","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-13T22:55:16.375980Z","updated_at":"2026-01-13T22:55:16.375980Z","blocks":[],"blocked_by":[]}
{"id":"kk-ivk9","title":"Implement bottle upgrade command (Rust, curator)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.674241Z","updated_at":"2026-01-13T16:39:21.337167Z","closed_at":"2026-01-13T16:39:21.337167Z","blocks":[],"blocked_by":[]}
{"id":"kk-j03d","title":"Create thin Claude plugin wrappers for bottle commands","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.695762Z","updated_at":"2026-01-13T14:46:58.752671Z","closed_at":"2026-01-13T14:46:58.752671Z","blocks":[],"blocked_by":[]}
{"id":"kk-jlm6","title":"Implement bottle switch command (Rust)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.655995Z","updated_at":"2026-01-12T21:45:40.925770701Z","closed_at":"2026-01-12T21:45:40.925770701Z","blocks":[],"blocked_by":[]}
{"id":"kk-ls7a","title":"Add bottle integrate command (Rust)","description":"","status":"in_progress","priority":2,"issue_type":"task","session_id":"49611","labels":[],"comments":[],"created_at":"2026-01-13T14:46:18.470695Z","updated_at":"2026-01-13T15:16:16.267135Z","blocks":[],"blocked_by":[]}
{"id":"kk-lu0y","title":"Create Claude Code thin wrapper commands (7 .md files)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-13T14:46:18.490113Z","updated_at":"2026-01-13T17:45:36.804563Z","closed_at":"2026-01-13T17:45:36.804563Z","blocks":[],"blocked_by":[]}
{"id":"kk-m5i6","title":"Create aggregated CHANGELOG for bottle releases","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:43:29.233560Z","updated_at":"2026-01-11T10:54:27.088346Z","closed_at":"2026-01-11T10:54:27.088346Z","blocks":[],"blocked_by":[]}
{"id":"kk-msfa","title":"Create /bottle:update command for unified stack updates","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:26:32.948345Z","updated_at":"2026-01-11T10:43:45.592325Z","closed_at":"2026-01-11T10:43:45.592325Z","blocks":[],"blocked_by":[]}
{"id":"kk-n4nq","title":"Implement bottle release command (Rust, curator)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[{"author":"anonymous","text":"## Detailed Spec\n\n### Usage\n```bash\nbottle release <bottle> [-m <message>]\n```\n\n### Flow\n1. Run `bottle validate <bottle>` - fail if invalid\n2. Check git status is clean - fail if dirty (uncommitted changes)\n3. Bump `manifest.version` to today's date (YYYY.MM.DD format)\n4. Commit: `chore: release <bottle> <version> - <message>`\n5. Create git tag: `<bottle>-<version>` (e.g., `stable-2026.01.13`)\n6. Push commit + tag to origin\n\n### Error cases\n- Manifest validation fails → show errors, exit 1\n- Dirty working directory → list uncommitted files, exit 1\n- Tag already exists → error, curator must resolve\n\n### Example\n```bash\n# Curator workflow\nbottle upgrade stable superego 0.9.1\ngit add -A && git commit -m \"chore: bump superego to 0.9.1\"\nbottle release stable -m \"Bump superego to 0.9.1\"\n\n# Output\n✓ Validated stable manifest\n✓ Working directory clean\n✓ Bumped version: 2026.01.12 → 2026.01.13\n✓ Committed: chore: release stable 2026.01.13 - Bump superego to 0.9.1\n✓ Tagged: stable-2026.01.13\n✓ Pushed to origin\n```","created_at":"2026-01-13T17:20:23.722260Z"}],"created_at":"2026-01-11T11:12:29.684445Z","updated_at":"2026-01-13T17:25:20.883350Z","closed_at":"2026-01-13T17:25:20.883350Z","blocks":[],"blocked_by":[]}
{"id":"kk-n788","title":"Implement bottle status command (Rust)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.639119Z","updated_at":"2026-01-12T20:09:36.954725Z","closed_at":"2026-01-12T20:09:36.954725Z","blocks":[],"blocked_by":[]}
{"id":"kk-nnj0","title":"Update old cloud-atlas-ai homebrew tap references to open-horizon-labs/tap","description":"","status":"open","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-13T22:50:49.583146Z","updated_at":"2026-01-13T22:50:49.583146Z","blocks":[],"blocked_by":[]}
{"id":"kk-odvu","title":"Implement bottle validate command (Rust, curator)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.679396Z","updated_at":"2026-01-13T17:05:11.061437Z","closed_at":"2026-01-13T17:05:11.061437Z","blocks":[],"blocked_by":[]}
{"id":"kk-oine","title":"Create /bottle:update to apply latest bottle snapshot","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:34.895919Z","updated_at":"2026-01-11T11:12:23.435019Z","closed_at":"2026-01-11T11:12:23.435019Z","blocks":[],"blocked_by":[]}
{"id":"kk-p2sx","title":"Add local testing script that matches CI builds","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-14T00:49:19.857474Z","updated_at":"2026-01-14T00:54:14.426677Z","closed_at":"2026-01-14T00:54:14.426677Z","blocks":[],"blocked_by":[]}
{"id":"kk-pnwy","title":"Extract shared code from install.rs and switch.rs into common module","description":"","status":"closed","priority":2,"issue_type":"refactor","labels":[],"comments":[],"created_at":"2026-01-12T21:45:28.976429879Z","updated_at":"2026-01-12T21:48:05.868675928Z","closed_at":"2026-01-12T21:48:05.868675928Z","blocks":[],"blocked_by":[]}
{"id":"kk-pwfi","title":"Explore how each tool installs today","description":"","status":"closed","priority":0,"issue_type":"spike","labels":[],"comments":[{"author":"anonymous","text":"Found installation patterns:\n\n**superego:**\n- Binary: brew install OR cargo install \n- Plugin: /plugin marketplace add + /plugin install superego@superego\n- Init: /superego:init (detects binary, offers install)\n- Per-project: sg init creates .superego/\n\n**wm:**\n- Binary: brew OR cargo install\n- Plugin: claude plugin install wm  \n- Init: wm init creates .wm/\n- Integrates: superego's stop hook calls wm extract\n\n**ba:**\n- Binary: cargo install ba\n- Init: ba init creates .ba/\n- Simple, no plugin\n\n**oh-mcp:**\n- No binary: npx -y @cloud-atlas-ai/oh-mcp-server\n- Plugin: /plugin marketplace add + install oh-mcp@oh-mcp\n- Setup: /oh-mcp:setup (adds to claude mcp)\n- Needs: OH_API_KEY env var\n\nKEY INSIGHT: Each tool has 2-3 steps: binary install (except oh-mcp), plugin install, per-project init. All support both Claude slash commands AND direct CLI.","created_at":"2026-01-07T01:27:27.641793Z"}],"created_at":"2026-01-07T01:26:58.274346Z","updated_at":"2026-01-07T01:27:30.527540Z","closed_at":"2026-01-07T01:27:30.527540Z","blocks":[],"blocked_by":[]}
{"id":"kk-q7h2","title":"Refactor OpenCode plugin - fold child plugins and invoke CLI","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[{"author":"anonymous","text":"## Refactoring Spec\n\n### Current State\n- OpenCode plugin at `opencode-plugin/` with custom TypeScript logic\n- Dependencies on 3 child plugins: ba-opencode, wm-opencode, superego-opencode\n- Custom init, install, status logic in index.ts\n\n### Target State\nTwo-part refactoring:\n\n#### Part A: OpenCode Plugin → Thin Wrappers\nRemove child plugin dependencies and create thin wrapper commands:\n\n1. **Remove child plugin dependencies** from package.json (ba-opencode, wm-opencode, superego-opencode)\n2. **Create command wrappers** in `opencode-plugin/skills/`:\n   - install.md, status.md, update.md, switch.md, list.md, create.md, integrate.md, eject.md, help.md\n3. **Each wrapper**: Check for bottle binary → invoke CLI → pass through output\n\n#### Part B: bottle integrate opencode\nUpdate `src/commands/integrate.rs` to install OpenCode plugins:\n\n```bash\nbottle integrate opencode\n# Should run:\nopencode plugin install @cloud-atlas-ai/bottle\nopencode plugin install @cloud-atlas-ai/ba-opencode\nopencode plugin install @cloud-atlas-ai/wm-opencode\nopencode plugin install @cloud-atlas-ai/superego-opencode\n```\n\nThis installs the full ecosystem in one command.\n\n### Benefits\n- Single entry point: `bottle integrate opencode` sets up everything\n- Thin wrappers invoke CLI, no custom logic duplication\n- Consistent behavior with Claude Code integration pattern","created_at":"2026-01-13T18:15:17.418816Z"}],"created_at":"2026-01-13T14:46:18.496728Z","updated_at":"2026-01-13T18:38:59.133328507Z","closed_at":"2026-01-13T18:38:59.133328507Z","blocks":[],"blocked_by":[]}
{"id":"kk-qpcf","title":"Update SPEC.md with platform integration architecture","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-13T14:46:18.508401Z","updated_at":"2026-01-13T15:02:57.966799Z","closed_at":"2026-01-13T15:02:57.966799Z","blocks":[],"blocked_by":[]}
{"id":"kk-rlf9","title":"Expand AGENTS.md template with datasphere, oh-mcp, miranda guidance","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:26:32.956631Z","updated_at":"2026-01-11T11:07:25.280540Z","closed_at":"2026-01-11T11:07:25.280540Z","blocks":[],"blocked_by":[]}
{"id":"kk-sbj0","title":"Update bottle status to show active integrations","description":"","status":"open","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-13T14:46:18.482485Z","updated_at":"2026-01-13T14:46:18.482485Z","blocks":[],"blocked_by":[]}
{"id":"kk-soo5","title":"Create datasphere plugin structure in bottle","description":"","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-08T12:17:52.889257Z","updated_at":"2026-01-08T13:34:06.557853834Z","closed_at":"2026-01-08T13:34:06.557853834Z","blocks":["kk-fbuz","kk-t63b"],"blocked_by":[]}
{"id":"kk-t63b","title":"Add datasphere:setup command (MCP server registration)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-08T12:18:03.712644Z","updated_at":"2026-01-08T14:12:54.699228372Z","closed_at":"2026-01-08T14:12:54.699228372Z","blocks":["kk-hpwy"],"blocked_by":["kk-soo5"]}
{"id":"kk-tsso","title":"Design bottle-as-snapshot architecture: manifest format, bottle registry, tool independence","description":"","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:34.881145Z","updated_at":"2026-01-11T11:07:09.931027Z","closed_at":"2026-01-11T11:07:09.931027Z","blocks":[],"blocked_by":[]}
{"id":"kk-uqji","title":"Create /bottle:upgrade for curators to bump tool versions in a bottle","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:41.244360Z","updated_at":"2026-01-11T11:12:23.453216Z","closed_at":"2026-01-11T11:12:23.453216Z","blocks":[],"blocked_by":[]}
{"id":"kk-v7ae","title":"Create /bottle:install command with bottle selection (stable/edge/minimal)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:34.885593Z","updated_at":"2026-01-11T11:12:23.424128Z","closed_at":"2026-01-11T11:12:23.424128Z","blocks":[],"blocked_by":[]}
{"id":"kk-vdy2","title":"Define release authority model: bottle as thin pointer vs curated bundle","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:29:36.351897Z","updated_at":"2026-01-11T10:54:27.068839Z","closed_at":"2026-01-11T10:54:27.068839Z","blocks":[],"blocked_by":[]}
{"id":"kk-x91c","title":"Create /bottle:switch to change bottles","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:34.900320Z","updated_at":"2026-01-11T11:12:23.439652Z","closed_at":"2026-01-11T11:12:23.439652Z","blocks":[],"blocked_by":[]}
{"id":"kk-xj28","title":"Create /bottle:release for curators to tag and publish bottle updates","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:54:41.254373Z","updated_at":"2026-01-11T11:12:23.462903Z","closed_at":"2026-01-11T11:12:23.462903Z","blocks":[],"blocked_by":[]}
{"id":"kk-y6ke","title":"Create /bottle:status command showing installed binaries, MCPs, and project init state","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:26:32.943823Z","updated_at":"2026-01-11T10:54:41.229145Z","closed_at":"2026-01-11T10:54:41.229145Z","blocks":[],"blocked_by":[]}
{"id":"kk-yug4","title":"Add MCP registration step to bottle:init (oh-mcp, datasphere)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T10:26:32.938927Z","updated_at":"2026-01-11T11:07:25.271822Z","closed_at":"2026-01-11T11:07:25.271822Z","blocks":[],"blocked_by":[]}
{"id":"kk-z171","title":"Implement bottle eject command (Rust)","description":"","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:12:29.662192Z","updated_at":"2026-01-12T20:20:45.244456752Z","closed_at":"2026-01-12T20:20:45.244456752Z","blocks":[],"blocked_by":[]}
{"id":"kk-zw4t","title":"Restructure bottle repo to match SPEC.md architecture (tools/, bottles/, commands/)","description":"","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-11T11:07:30.342751Z","updated_at":"2026-01-12T17:50:08.394161Z","closed_at":"2026-01-12T17:50:08.394161Z","blocks":[],"blocked_by":[]}
